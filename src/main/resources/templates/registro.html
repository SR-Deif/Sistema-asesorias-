<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Formulario de Registro</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
		integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
		crossorigin="anonymous"></script>

	<link rel="stylesheet" th:href="@{/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css}">
	<script src="https://kit.fontawesome.com/392a27d13c.js" crossorigin="anonymous"></script>


	<link rel="stylesheet" th:href="@{/css/style-registro.css}">
	<link rel='shortcut icon' type='image/x-icon' th:href='@{/img/logo.png}' />
	<link rel="stylesheet" th:href="@{/css/custom.css}">

</head>

<body th:src=" @{'/fonts/poppins/Poppins-Regular.ttf'}" >

	<div class="wrapper" style="background-image: url('img/Login/a.jpg');">
		<div class="inner">
			<div class="image-holder">
				<img th:src="@{img/Login/j.jpg}" alt="">
			</div>

			<form th:action="@{/registro}" method="post" th:object="${usuario}">

				<img th:src="@{img/logo.png}" class="logo" alt="">
				
				<h3>Registrarse</h3>
				<div th:if=${param.exito}>
					<div class="alert alert-info">Se ha registrado exitosamente a
						la aplicación</div>
				</div>
				<div class="form-group">
					<input type="text" id="nombre" th:field="*{nombre}" placeholder="Nombre" class="fom"
						autofocus="autofocus" required>
					<div class="valid-feedback">
						Todo Bien!
					</div>
					<div class="invalid-feedback">
						Este Campo es Obligatorio!
					</div>
					<input type="text" id="apellido" th:field="*{apellido}" placeholder="Apellido" class="fom" required
						autofocus="autofocus">
					<div class="valid-feedback">
						Todo Bien!
					</div>
					<div class="invalid-feedback">
						Este Campo es Obligatorio!
					</div>
				</div>
				<div class="form-wrapper">
					<select name="select" th:field="*{tipoDocUsuario}" id=""  class="form-control" required>
						<option value="" disabled selected>Tipo documento</option>
						<option value="CC">C.C</option>
						<option value="DNI">DNI</option>
						<option value="CE">C.E</option>
					</select>
					<div class="invalid-feedback">Elegir el Tipo de Documento</div>
					<i class="fa-sharp fa-solid fa-caret-down" style="font-size: 17px"></i>
				</div>
				<div class="form-wrapper">
					<input type="number" id="numeroDocUsuario" placeholder="Documento" class="form-control"
						th:field="*{numeroDocUsuario}" required autofocus="autofocus" maxlength="10"
						oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" />
					<i class="fa-sharp fa-solid fa-user"></i>
					<div class="valid-feedback">
						Todo Bien!
					</div>
					<div class="invalid-feedback">
						Este Campo es Obligatorio!
					</div>
				</div>

				<div class="form-wrapper">
					<input type="number" id="telefonoUsuario" placeholder="Telefono" th:field="*{telefonoUsuario}"
						class="form-control" required>
					<i class="fa-sharp fa-solid fa-phone"></i>
					<div class="valid-feedback">
						Todo Bien!
					</div>
					<div class="invalid-feedback">
						Este Campo es Obligatorio!
					</div>
				</div>


				<div class="form-wrapper">
					<input onkeyup="check()" type="email" id="email" placeholder="Ejemplo@dominio.com"
						class="form-control" th:field="*{email}" required autofocus="autofocus">
					<i class="fa-sharp fa-solid fa-envelope"></i>
					<div class="valid-feedback">
						Todo Bien!
					</div>
					<div class="invalid-feedback">
						Este Campo es Obligatorio!
					</div>
				</div>

				<!--<div class="form-wrapper">
					<select name="select" th:field="*{tipoUsuario}" id="" class="form-control" required>
						<option value="" selected>--Elegir tipo de Usuario--</option>
						<option value="Administrador">Administrador</option>
						<option value="Ingeniero">Ingeniero</option>
					</select>
					<div class="invalid-feedback">Elegir el Tipo de Usuario</div>
					<i class="fa-sharp fa-solid fa-caret-down" style="font-size: 17px"></i>
				</div>-->

				<div class="form-wrapper">
					<input type="password" placeholder="Contraseña" id="password" class="form-control"
						th:field="*{password}" required autofocus="autofocus">
					<i class="fa-sharp fa-solid fa-lock"></i>
				</div>

				<a style="--clr:#1e9bff" onclick="return confirm('Deseas guardar estos datos!');">
					<button type="submit" class="botoncito">Guardar
						<i class="fa-sharp fa-solid fa-arrow-right"></i>
					</button>

					<div class="span">
					<span>Si estas registrado <a th:href="@{/index}">inicia sesión aqui</a></span>
						</div>
			</form>
		</div>
	</div>
	</div>

	<script>
		(() => {
			'use strict'


			const forms = document.querySelectorAll('.needs-validation')
			Array.from(forms).forEach(form => {
				form.addEventListener('submit', event => {
					if (!form.checkValidity()) {
						event.preventDefault()
						event.stopPropagation()
					}

					form.classList.add('was-validated')
				}, false)
			})
		})()

		const email = document.querySelector("#email");
		const icon1 = document.querySelector(".icon1");
		const icon2 = document.querySelector(".icon2");
		const error = document.querySelector(".text-error");
		const btn = document.querySelector("button");

		let regExp = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
		function check() {
			if (email.value.match(regExp)) {
				email.style.boderColor = "#27ae60";
				email.style.background = "#eafaf1";
				icon1.style.display = "none";
				icon2.style.display = "block";
				error.style.display = "none";
				btn.style.display = "block";
			} else {
				email.style.boderColor = "#e74c3c";
				email.style.background = "#fceae9";
				icon1.style.display = "block";
				icon2.style.display = "none";
				btn.style.display = "none";
				error.style.display = "block";
			}

			if (email.value == "") {
				email.style.boderColor = "#lightgrey";
				email.style.background = "#fff";
				icon1.style.display = "none";
				icon2.style.display = "none";
				btn.style.display = "none";
				error.style.display = "none";
			}
		}

	</script>
		<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
		integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
		crossorigin="anonymous"></script>
</body>

</html>